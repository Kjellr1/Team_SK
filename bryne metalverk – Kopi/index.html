<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="css/master.css">
    <script src="DB/DB.html"></script>
    <title></title>
  </head>
  <body>

    <div id="ramme">
      <div id="menu">
        <ul>
          <li><a href="Index.html" >Index</a></li>
          <li><a href="bestilt.html">Bestilt</a></li>
          <li><a>Home3</a></li>
          <li style="float:right"><a id="cart">Shopping Cart</a></li>
        </ul>
      </div>
      <div id="content">

        <div id="figur">
          <ul>
            <li onclick="FigurValg1()" id="b1knapp"><img src="bilder/b1.png"></li>
            <li onclick="FigurValg2()" id="b2knapp"><img src="bilder/b2.png"></li>
            <li onclick="FigurValg3()" id="b3knapp"><img src="bilder/b4.png"></li>
          </ul>
        </div>

        <div id="info">

          <input id="input_kunde" type="text" name="kunde" class="kunde" value="" placeholder="Navn">

          <input id="input_størrelse" type="text" name="størrelse" value="" placeholder="1-15 cm">

          <select id="input_metall" >
            <option value=""  disabled selected hidden>Velg materiell til figuren?</option>
            <option value="Jern">Jern</option>
            <option value="Bronze">Bronze</option>
            <option value="Gull">Gull</option>
            <option value="Sølv">Sølv</option>
            <option value="Aluminium">Aluminium</option>
          </select>
          
              <input type="button" value="Save to LS" onclick="dataSave()">
              <input type="button" value="Clear LS" onclick="clearLS()">

        </div>


        <div id="right">
          <h1>Kostnad</h1>
          <h2>Figur Pris: 0</h2>
          <h2>Metal Pris: 0</h2>
          <h2>Støttelse Pris: 0</h2>
          <h2>Total Pris: 0</h2>
        </div>

        <div id="left">
          <img id="img" src="bilder/blank.png">
        </div>

      </div>
    </div>

    <div>
      <table id="table" border="1">
  <thead>
  <tr>
    <th>Navn</th>
      <th>Figur</th>
      <th>Størrelse</th>
      <th>Metall</th>
  </tr>
  </thead>
  <!-- tbody som man kan skrive ut deler av tabellen via js -->
  <tbody id="matchData">
  
  </tbody>
</table>
    </div>





    <script type="text/javascript">

      var b1 = ["bilder/b1m.png", "bilder/b1b.png", "bilder/b1g.png"];
      var b2 = ["bilder/b2m.png", "bilder/b2b.png", "bilder/b2g.png"];
      var b3 = ["bilder/b3m.png", "bilder/b3b.png", "bilder/b3g.png"];
      var mvv = document.getElementById("input_metall").value;

      var figur = "";

      document.getElementById("b1knapp").addEventListener("click", b1function);

      function FigurValg1(){
        document.getElementById('b1knapp').style.backgroundColor = "#a3a3a3";
        document.getElementById('b2knapp').style.backgroundColor = "#d1d1d1";
        document.getElementById('b3knapp').style.backgroundColor = "#d1d1d1";
        
        figur = "Kule";
        
      }


      function FigurValg2(){
        document.getElementById('b1knapp').style.backgroundColor = "#d1d1d1";
        document.getElementById('b2knapp').style.backgroundColor = "#a3a3a3";
        document.getElementById('b3knapp').style.backgroundColor = "#d1d1d1";
        
        figur = "Kjegle";
        
        
      }
      function FigurValg3(){
        document.getElementById('b1knapp').style.backgroundColor = "#d1d1d1";
        document.getElementById('b2knapp').style.backgroundColor = "#d1d1d1";
        document.getElementById('b3knapp').style.backgroundColor = "#a3a3a3";
        
        figur = "Sylinder";
        
        
      }


      function b1function(){
        var e = document.getElementById ("mv");
        var SelectMetal = e.options [e.selectedIndex] .value;

        if (figur == "1") {
          if (SelectMetal == "1") {
            document.getElementById("img").src = b1[0];
          }
          else if (SelectMetal == "2") {
            document.getElementById("img").src = b1[1];
          }
          else if (SelectMetal == "3") {
            document.getElementById("img").src = b1[2];
          }

          else {
            document.getElementById("img").src = b1[0];
          }
        }







        else if (figur == "2") {
          if (SelectMetal == "1") {
            document.getElementById("img").src = b2[0];
          }
          else if (SelectMetal == "2") {
            document.getElementById("img").src = b2[1];
          }
          else if (SelectMetal == "3") {
            document.getElementById("img").src = b2[2];
          }

          else {
            document.getElementById("img").src = b2[0];
          }
        }







        else if (figur == "3") {
          if (SelectMetal == "1") {
            document.getElementById("img").src = b3[0];
          }
          else if (SelectMetal == "2") {
            document.getElementById("img").src = b3[1];
          }
          else if (SelectMetal == "3") {
            document.getElementById("img").src = b3[2];
          }

          else {
            document.getElementById("img").src = b3[0];
          }
        }

      }


    </script>
    <script>
      
      
      
    //Stig
  function clearLS (){
     localStorage.clear();
     alert("Slettet localstorage");
  }

  //STIG
  //Informasjon

  var navn = document.getElementById("input_kunde");
  var størrelse = document.getElementById("input_størrelse");
  var metall = document.getElementById("input_metall");
  // var figur satt i funksjone over

  //Storage array
  var bestillinger = [];
  var add_bestillinger = [];
  // Stig
  function jsonStructure(navn,størrelse,metall,figur){
    this.navn = navn;
    this.størrelse = størrelse;
    this.metall = metall;
    this.figur = figur;
  }

  //Se at all informasjonen er fullt inn
  //Stig
  function dataSave(){
    var isNull = navn.value != "" && størrelse.value != "" && metall.value != "" && figur.value != "";
    if(isNull){
      //legg til informasjonen i StorageArrayet og til localstorage
      var obj = new jsonStructure(navn.value, størrelse.value, metall.value, figur);
      bestillinger.push(obj);
      
      localStorage.setItem('bestillinger', JSON.stringify(bestillinger));

      alert("Lagret");
    }
    else{
      alert("Du må fulle inn alle feltene");
    }
}
      
    </script>







  </body>
</html>
