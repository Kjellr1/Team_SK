<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" href="index.html">
	 <link rel="stylesheet" href="css/master.css">
	<title></title>
</head>
<body>
	    <div id="ramme">
      <div id="menu">
      	
        <ul>
          <li><a href="index.html" >Index</a></li>
          <li><a href="test.html">Test</a></li>
          <li><a>Home3</a></li>
          <li style="float:right"><a id="cart">Shopping Cart</a></li>
        </ul>
      </div>
      <div id="content">

        <div id="figur">
          
        </div>

        <div id="info">

          

        </div>
        	<div>
        		
      <table id="table" border="1">
  <thead>
  <tr>
  	<th>Id</th>
    <th>Navn</th>
    <th>Figur</th>
    <th>Størrelse</th>
    <th>Metall</th>
    <th>Pris</th>
    <th>Knapp</th>
  </tr>
  </thead>
  <!-- tbody som man kan skrive ut deler av tabellen via js -->
  <tbody id="matchData">
  
  </tbody>
</table>
    </div>


       

      </div>
    </div>


	<script>
		//STIG
	  //Storage array
  var bestillinger = [];
  

  var bestillinger = JSON.parse(localStorage.getItem("bestillinger"));
  	//Stig
  function drawTable(tbody) {
    var tr;
    var td;
    tbody = document.getElementById(tbody);
    tbody.innerHTML = "";
    // for løkke som danner resten av tabellen og fuller inn informasjon fra arrayet
    for (var i = 0; i < bestillinger.length; i++) {
      // legger til <tr></tr> i <tbody>
        tr = tbody.insertRow(tbody.rows.length);

        // legger til <td> inn i <tr> 
    td = tr.insertCell(tr.cells.length);
    td.setAttribute("align", "center");
        // legger informasjon fra arrayet inn i <td>
        td.innerHTML = i;

        // legger til <td> inn i <tr> 
    td = tr.insertCell(tr.cells.length);
    td.setAttribute("align", "center");
        // legger informasjon fra arrayet inn i <td>
        td.innerHTML = bestillinger[i].navn;

        // legger til <td> inn i <tr> en
    td = tr.insertCell(tr.cells.length);
    td.setAttribute("align", "center");
         // legger informasjon fra arrayet inn i <td>
    td.innerHTML = bestillinger[i].figur;

        // legger til <td> inn i <tr> en
    td = tr.insertCell(tr.cells.length);
    td.setAttribute("align", "center");
         // legger informasjon fra arrayet inn i <td>
    td.innerHTML = bestillinger[i].størrelse;

    // legger til <td> inn i <tr> en
    td = tr.insertCell(tr.cells.length);
    td.setAttribute("align", "center");
    // legger informasjon fra arrayet inn i <td>
    td.innerHTML = bestillinger[i].metall;

    // legger til <td> inn i <tr> en
    td = tr.insertCell(tr.cells.length);
    td.setAttribute("align", "center");
    // legger informasjon fra arrayet inn i <td>
    td.innerHTML = bestillinger[i].total_pris;

    // legger til <td> inn i <tr> en
    td = tr.insertCell(tr.cells.length);
    td.setAttribute("align", "center");
    // legger informasjon fra arrayet inn i <td>
    td.innerHTML = "<button id='"+i+"' onclick='slettPers(this.id)'>Slett</button>";

    }

}

  drawTable("matchData"); //Tegner tabellen


 



//Stig
  function slettPers(clicked_id){
  	
  	bestillinger.splice(clicked_id,1);

     localStorage.setItem('bestillinger', JSON.stringify(bestillinger));

     drawTable("matchData");

  }






</script>

</body>
</html>
